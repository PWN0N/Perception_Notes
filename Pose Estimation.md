# Pose Estimation

标签（空格分隔）： vision robotics

---

## 一、特征匹配

### （一）特征提取

#### 1.图像金字塔（基础见《图像金字塔》）

- 图像金字塔：从原图像开始模糊（卷积），得到一系列同采样水平的图像作为金字塔的一层，$\sigma$每增加一倍（一个八度），降采样一次，作为下一层金字塔的第一张图，继续模糊得到这一层的图像。

**金字塔层内图像尺寸（大小）相同，尺度（模糊程度）不同，层间图像尺寸不同，尺度为倍增关系**


- 卷积内核相当于一个蒙版（mask），将蒙版在图像上移动，则整个图像就被模糊了
    - 二维Gaussian卷积内核： 
   $$G(x,y,\sigma)={1\over 2\pi\sigma^2}e^{-x^2+y^2\over 2\sigma^2}$$
    $\sigma$是协方差，表示Gaussian卷积在二维上的传递方向，也就是蒙版的移动方向？？
    - 图像模糊：$$L(x,y,\sigma)=G(x,y,\sigma)*I(x,y)$$
    
#### 2.LoG高斯函数的拉普拉斯算子


|概念|定义|
| --- | --- |
| 本征尺度 | 建立图像强度关于尺度$\sigma$的函数，（归一化后）函数最大值所对应的尺度就是该图像的本征尺度（该尺度上的图像最清晰） |
| Gaussian函数 | 可以进行归一化的函数都是是Gaussian函数的导数？？ |
|Hessian矩阵|二维函数的二阶导数是Hessian矩阵|
|LoG|(1) Hessian矩阵的迹，其图像是一个二维曲面，类似倒置的墨西哥帽子|
||(2) 两个不同的高斯核的差（不同高斯核的$\sigma$取值不同）|


- LoG描述了两个高斯核的差异，做卷积时将它作为蒙版在图像上移动就等于在做匹配（类似模版匹配？？）

- 尺度归一化的意义：为了使Laplacian的响应？？不会随着图像的渐渐模糊而消失，这样在每一个像素位置都可以看出可以取得强度最大值的方向？？，这样就能自动得到图像中周围像素的尺度
- 例子：图像上一个半径为$r$的黑色圆形斑点，用一个（inner circle product？？）Laplacian算子，若满足$$\sigma={r\over \sqrt2}$$就能匹配成功？？，该图像的本征尺度就是$r$，这时得到的强度最大值就能得到表示图像结构的$\sigma$

#### 3.SIFT特征点

- 定义：在图形金字塔中一个点同它周围的$3\times3\times3$的邻域中的26个点相比，若该点有最大的Laplacian响应（？？）则它就是一个SIFT特征点
- 对特征点的描述：
    - 尺度不变性：SIFT自动检测每个特征点的本征尺度，表示成一个圆，圆越大表示当前尺度越接近于该特征点的本征尺度，这样使得特征点有了在$\sigma$维度上有了描述，具有尺度不变性
    - 旋转不变性：特征点具有周围26点邻域中的Laplacian响应最大值，旋转之后它还是最大值点，所以具有旋转不变性
- 对邻域的描述：
    - 尺度不变性：将描述子归一化，即将所有本征尺度圆变换到一个$16\times16$的域内，这个$16\times16$的域是尺度不变的，并且舍弃了白色的信息？？
    - 旋转不变性：给每个本征尺度圆建立一个关于梯度方向直方图，找出最大梯度所对应的方向作为这个圆的方向，图像旋转时，将每个圆旋转相应的角度，这样实现了每个邻域的旋转不变性
- 描述子提取方法：
    - 将每个邻域分成$n$个格，每个格对应一个直方图，每个直方图描述了该格内的8个方向，每个方向用一个8维二进制向量表示，则**每个特征点拥有$8n$个向量来描述**
